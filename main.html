<!DOCTYPE html>
<html lang="en">
<head>
    <title>TIC-TAC-TOE</title>
    <link rel="stylesheet" href="main.css">
</head>
<body>
    <div class="container">
        <span id="heading"> 
            Tic-Tac-Toe
        </span>
        <div id="displayTurn" onload="turn()"></div>
        <div class="gameplay">
                <div class="game-box" id="box1" index="0" onClick="go(this)"></div>
                <div class="game-box" id="box2" index="1" onClick="go(this)"></div>
                <div class="game-box" id="box3" index="2" onClick="go(this)"></div>
                <div class="game-box" id="box4" index="3" onClick="go(this)"></div>
                <div class="game-box" id="box5" index="4" onClick="go(this)"></div>
                <div class="game-box" id="box6" index="5" onClick="go(this)"></div>
                <div class="game-box" id="box7" index="6" onClick="go(this)"></div>
                <div class="game-box" id="box8" index="7" onClick="go(this)"></div>
                <div class="game-box" id="box9" index="8" onClick="go(this)"></div>
        </div>
        <input type="button" id="resetBtn" value="reset" onClick="reset()">
        <div id="result">

        </div>
    </div>
    <script>
         var counter=0;
         var grid;
        //  var i;
         function go(id){
             if (id.innerHTML==""){
                 
             counter++;
             if(counter%2==1){
             document.getElementById('displayTurn').innerHTML="O's turn";
             console.log(counter);
         }
         else if(counter%2 ==0){
             document.getElementById('displayTurn').innerHTML="X's turn";
             console.log(counter);
         }
             if (counter%2==1){
                id.innerHTML="X";
                }
             else {
                id.innerHTML="O";
                // console.log(id.innerHTML);
             }
         
        grid= [document.getElementById("box1").innerHTML,document.getElementById("box2").innerHTML,document.getElementById("box3").innerHTML,document.getElementById("box4").innerHTML,document.getElementById("box5").innerHTML,document.getElementById("box6").innerHTML,document.getElementById("box7").innerHTML,document.getElementById("box8").innerHTML,document.getElementById("box9").innerHTML];
        console.log(grid);   
        if(counter>4){
                if(grid[0]==grid[4]&& grid[4]==grid[8]){
                    if(grid[4] != ""){
                            if(counter%2==1){
                            document.getElementById('result').innerHTML="winner is X";
                            }
                        else{
                            document.getElementById('result').innerHTML="winner is O";
                        }
                        }
                }
                else if(grid[2]==grid[4]&&grid[4]==grid[6]){
                    if(grid[4] != ""){
                            if(counter%2==1){
                            document.getElementById('result').innerHTML="winner is X";
                        }
                        else{
                            document.getElementById('result').innerHTML="winner is O";
                        }
                        }
                }
                for(var i=0; i<3; i++){
                if(grid[3*i]==grid[3*i+1] && grid[3*i]==grid[3*i+2]) {
                        if(grid[3*i] != ""){
                            if(counter%2==1){
                            document.getElementById('result').innerHTML="winner is X";
                        }
                        else{
                            document.getElementById('result').innerHTML="winner is X";
                        }
                        }
                    }
                else if((grid[i]==grid[i+3] && grid[i]==grid[i+6])){
                        if(grid[i] != ""){
                            if(counter%2==1){
                            document.getElementById('result').innerHTML="winner is X";
                        }
                        else{
                            document.getElementById('result').innerHTML="winner is O";
                        }
                        }
                    }
                    else if(counter==9){
                        document.getElementById('result').innerHTML="it's a tie";
                    }
                }                
            }
        
        }
        }

        
        function reset(){
            // grid.innerHTML="";
            for( var i=0; i<9; i++){
                counter=0;
                grid[i].innerHTML ="";
                document.getElementById("box1").innerHTML="";
                document.getElementById("box2").innerHTML="";
                document.getElementById("box3").innerHTML="";
                document.getElementById("box4").innerHTML="";
                document.getElementById("box5").innerHTML="";
                document.getElementById("box6").innerHTML="";
                document.getElementById("box7").innerHTML="";
                document.getElementById("box8").innerHTML="";
                document.getElementById("box9").innerHTML="";
                document.getElementById('result').innerHTML="";
                console.log(grid);
            }   
        }
        // console.log(grid[1]);
    </script>
</body>
</html>